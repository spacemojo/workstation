#!/bin/bash

# The update script takes care of the following : 
#   - Go
#   - Vim updates and tooling
#   - Brave browser
#   - Homebrew for linux
#   - Terraform
#   - AWS cli and tooling
#   - KDE kwallet (for aws-vault)
#   - ffmpeg
#   - obs studio
#
# -e  Exit immediately if a command exits with a non-zero status.
set -e

_SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)" || exit 1 

# Sourcing the vars
# shellcheck source=lib/stdst8-variables.sh
source "${_SCRIPT_DIR}/lib/stdst8-variables.sh"

# Sourcing the general functions
# shellcheck source=lib/stdst8-functions.sh
source "${_SCRIPT_DIR}/lib/stdst8-functions.sh"

# Sourcing the lib for the go installation
# shellcheck source=lib/stdst8-go.sh
source "${_SCRIPT_DIR}/lib/stdst8-go.sh"

# Sourcing the lib for the go installation
# shellcheck source=lib/stdst8-vim.sh
source "${_SCRIPT_DIR}/lib/stdst8-vim.sh"

# Sourcing the lib for the go installation
# shellcheck source=lib/stdst8-brave.sh
source "${_SCRIPT_DIR}/lib/stdst8-brave.sh"

# Sourcing the lib for the terraform installation
# shellcheck source=lib/stdst8-terraform.sh
source "${_SCRIPT_DIR}/lib/stdst8-terraform.sh"

# Sourcing the lib for the brew installation
# shellcheck source=lib/stdst8-brew.sh
source "${_SCRIPT_DIR}/lib/stdst8-brew.sh"

# Installing Go
stdst8.update_go

# Installing Vim and related tooling
stdst8.install_vim_and_tooling

# Installing Brave browser
stdst8.install_brave_browser

# Install / update terraform
stdst8.update_terraform

# Install brew
stdst8.install_brew

# Installing apt packages
stdst8.apt_install "awscli" "kwalletmanager" "kwalletcli" "ffmpeg" "obs-studio" "shellcheck" "thunderbird"

# Installing brew packages
stdst8.brew_install "aws-vault"

# Litlle bit of ascii art from http://patorjk.com/software/taag/#p=display&h=0&v=0&f=Fraktur&t=stdst8
cat "${_SCRIPT_DIR}/stdst8-logo"


